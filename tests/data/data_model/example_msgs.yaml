# Copyright DB InfraGO AG and contributors
# SPDX-License-Identifier: Apache-2.0

- parent: !promise root.package1
  sync:
      classes:
          - promise_id: package1.SampleClass
            find:
                name: SampleClass
            set:
                description: "SampleClass.msg The first comment block at the top of the file is added to the class description of SampleClass. "
                properties:
                    - name: sample_field1
                      description: "This block comment is added to the property description of sample_field1. This block comment is also added to the property description of sample_field1. "
                      type: !promise package1.uint8
                      min_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                      max_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                      min_value: !new_object
                          _type: LiteralNumericValue
                          value: "0"
                      max_value: !new_object
                          _type: LiteralNumericValue
                          value: "10"
                    - name: sample_field2
                      description: "This block comment is added to the property descriptions of sample_field2 and sample_field3. "
                      type: !promise package1.uint8
                      min_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                      max_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                    - name: sample_field3
                      description: "This block comment is added to the property descriptions of sample_field2 and sample_field3. "
                      type: !promise package1.uint8
                      min_card: !new_object
                          _type: LiteralNumericValue
                          value: "0"
                      max_card: !new_object
                          _type: LiteralNumericValue
                          value: "*"
                    - name: sample_field4
                      description: "This block comment is added to the property descriptions of sample_field4 and sample_field5. Fields in SampleClass can reference enums in other files. The property sample_field4 is of type SampleEnum. cf. SampleEnum "
                      type: !promise types.SampleEnum
                      min_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                      max_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                    - name: sample_field5
                      description: "This block comment is added to the property descriptions of sample_field4 and sample_field5. This inline comment is added to the property description of sample_field5. The property sample_field5 is of type SampleEnumValue. cf. SampleEnum, SAMPLE_ENUM_VALUE_XXX "
                      type: !promise types.SampleEnumValue
                      min_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                      max_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
      enumerations:
          - promise_id: types.SampleEnumValue
            find:
                name: SampleEnumValue
            set:
                description: "SampleEnum.msg This block comment is added to the enum description of SampleEnumValue. "
                literals:
                    - name: RED
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "0"
                    - name: BLUE
                      description: "This inline comment is added to the enum literal description of BLUE. "
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                    - name: YELLOW
                      description: "This block comment is added to the enum literal descriptions of YELLOW and GREEN. "
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "2"
                    - name: GREEN
                      description: "This block comment is added to the enum literal descriptions of YELLOW and GREEN. "
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "3"
          - promise_id: types.SampleEnum
            find:
                name: SampleEnum
            set:
                description: "This block comment is added to the enum description of SampleEnum. In a file, there can only be one or no enum whose literal names do not share a common prefix. "
                literals:
                    - name: OK
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "0"
                    - name: WARN
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                    - name: ERROR
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "2"
                    - name: STALE
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "3"

- parent: !promise root.package2
  sync:
      classes:
          - promise_id: package2.SampleClassEnum
            find:
                name: SampleClassEnum
            set:
                description: "SampleClassEnum.msg Properties in SampleClassEnum can reference enums in the same file. "
                properties:
                    - name: status
                      description: "The property status is of type SampleClassEnumStatus. "
                      type: !promise types.SampleClassEnumStatus
                      min_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                      max_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                    - name: color
                      description: "The property color is of type Color. "
                      type: !promise types.Color
                      min_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                      max_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                    - name: field
                      description: ""
                      type: !promise package2.uint8
                      min_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                      max_card: !new_object
                          _type: LiteralNumericValue
                          value: "1"
      enumerations:
          - promise_id: types.SampleClassEnumStatus
            find:
                name: SampleClassEnumStatus
            set:
                description: "This block comment is added to the enum description of SampleClassEnumStatus. "
                literals:
                    - name: OK
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "0"
                    - name: WARN
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                    - name: ERROR
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "2"
                    - name: STALE
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "3"
          - promise_id: types.Color
            find:
                name: Color
            set:
                description: "This block comment is added to the enum description of Color. "
                literals:
                    - name: RED
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "0"
                    - name: BLUE
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "1"
                    - name: YELLOW
                      description: ""
                      value: !new_object
                          _type: LiteralNumericValue
                          value: "2"

- parent: !uuid "00000000-0000-0000-0000-000000000000"
  sync:
      packages:
          - promise_id: root.package1
            find:
                name: package1
          - promise_id: root.package2
            find:
                name: package2

- parent: !uuid "00000000-0000-0000-0000-000000000001"
  sync:
      packages:
          - promise_id: root.DataTypes
            find:
                name: "Data Types"

- parent: !promise root.DataTypes
  sync:
      datatypes:
          - promise_id: package1.uint8
            find:
                name: uint8
                _type: NumericType
          - promise_id: package2.uint8
            find:
                name: uint8
                _type: NumericType
